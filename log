==28862== Memcheck, a memory error detector
==28862== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==28862== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==28862== Command: ./simulator
==28862== 
==28862== Thread 2:
==28862== Syscall param write(buf) points to uninitialised byte(s)
==28862==    at 0x4E4A4BD: ??? (syscall-template.S:84)
==28862==    by 0x4010BE: posix_push_data (posix.c:43)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Address 0x54216d4 is 4 bytes inside a block of size 8,192 alloc'd
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400ACC: main (main.c:12)
==28862== 
==28862== Thread 1:
==28862== Invalid read of size 4
==28862==    at 0x400D85: assign_req (interface.c:35)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423738 is 40 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43D44: pthread_mutex_lock (pthread_mutex_lock.c:67)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423750 is 64 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DA7: pthread_mutex_lock (pthread_mutex_lock.c:80)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423740 is 48 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DC4: pthread_mutex_lock (pthread_mutex_lock.c:81)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423748 is 56 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid write of size 4
==28862==    at 0x4E43DD8: pthread_mutex_lock (pthread_mutex_lock.c:159)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423748 is 56 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DDC: pthread_mutex_lock (pthread_mutex_lock.c:161)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x542374c is 60 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 1
==28862==    at 0x4E436B1: pthread_mutex_destroy (pthread_mutex_destroy.c:30)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x5423750 is 64 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E436B7: pthread_mutex_destroy (pthread_mutex_destroy.c:31)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400AE3: main (main.c:14)
==28862==  Address 0x542374c is 60 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x4010D8: posix_push_data (posix.c:46)
==28862==    by 0x401031: normal_set (normal.c:21)
==28862==    by 0x400D14: p_main (interface.c:155)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400AE3: main (main.c:14)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x400D85: assign_req (interface.c:35)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2df8 is 40 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43D44: pthread_mutex_lock (pthread_mutex_lock.c:67)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e10 is 64 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DA7: pthread_mutex_lock (pthread_mutex_lock.c:80)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e00 is 48 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DC4: pthread_mutex_lock (pthread_mutex_lock.c:81)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e08 is 56 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid write of size 4
==28862==    at 0x4E43DD8: pthread_mutex_lock (pthread_mutex_lock.c:159)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e08 is 56 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E43DDC: pthread_mutex_lock (pthread_mutex_lock.c:161)
==28862==    by 0x400DA3: assign_req (interface.c:36)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e0c is 60 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 1
==28862==    at 0x4E436B1: pthread_mutex_destroy (pthread_mutex_destroy.c:30)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e10 is 64 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== Invalid read of size 4
==28862==    at 0x4E436B7: pthread_mutex_destroy (pthread_mutex_destroy.c:31)
==28862==    by 0x400EAE: inf_make_req (interface.c:79)
==28862==    by 0x400B13: main (main.c:21)
==28862==  Address 0x54f2e0c is 60 bytes inside a block of size 96 free'd
==28862==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400C90: inf_end_req (interface.c:108)
==28862==    by 0x401168: posix_pull_data (posix.c:63)
==28862==    by 0x401001: normal_get (normal.c:18)
==28862==    by 0x400D2C: p_main (interface.c:152)
==28862==    by 0x4E416B9: start_thread (pthread_create.c:333)
==28862==  Block was alloc'd at
==28862==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28862==    by 0x400E85: inf_make_req (interface.c:64)
==28862==    by 0x400B13: main (main.c:21)
==28862== 
==28862== 
==28862== HEAP SUMMARY:
==28862==     in use at exit: 0 bytes in 0 blocks
==28862==   total heap usage: 604 allocs, 604 frees, 1,662,224 bytes allocated
==28862== 
==28862== All heap blocks were freed -- no leaks are possible
==28862== 
==28862== For counts of detected and suppressed errors, rerun with: -v
==28862== Use --track-origins=yes to see where uninitialised values come from
==28862== ERROR SUMMARY: 2040 errors from 17 contexts (suppressed: 0 from 0)
